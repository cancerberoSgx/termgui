require_relative '../src/screen'

b = ["⠋",",⠇","⠉","⠃","⠙","⢮","⢯","⢱","⢲","⢳","⢴","⢵","⢶","⢷","⢸","⢹","⢺","⢻","⢼","⢽","⢾","⠂","⠃","⠄","⠅","⠆","⠇","⠈","⠉","⠊","⠋","⠍","⠎","⠏","⠐","⠑","⠒","⠓","⠕","⠖","⠗","⠘","⠙","⠚","⠛","⠜","⠝","⠞","⠟","⠠","⠡","⠢","⠣","⠤","⠥","⠦","⠧","⠨","⠩","⠫","⠬","⠭","⠮","⠯","⠰","⠱","⠲","⠳","⠴","⠶","⠷","⠹","⠺","⠻","⠼","⠽","⠾","⠿","⡀","⡁","⡂","⡄","⡅","⡆","⡇","⡈","⡉","⡊","⡋","⡌","⡍","⡏","⡐","⡑","⡒","⡓","⡔","⡕","⡖","⡗","⡘","⡚","⡛","⡝","⡞","⡟","⡠","⡡","⡣","⡤","⡥","⡦","⡧","⡨","⡩","⡪","⡫","⡬","⡭","⡮","⡯","⡱","⡲","⡳","⡴","⡵","⡶","⡷","⡸","⡹","⡺","⡻","⡼","⡽","⡾","⡿","⢀","⢂","⢃","⢄","⢅","⢆","⢇","⢈","⢉","⢊","⢋","⢍","⢎","⢏","⢐","⢑","⢒","⢓","⢔","⢕","⢖","⢗","⢘","⢙","⢚","⢛","⢜","⢝","⢞","⢟","⢠","⢡","⢣","⢤","⢥","⢦","⢧","⢨","⢩","⢪","⢫","⢬","⢭","⢮","⢯","⢱","⢲","⢳","⢴","⢵","⢶","⢷","⢸","⢹","⢺","⢻","⢼","⢽","⢾","⢿","⣀","⣂","⣃","⣄","⣅","⣆","⣇","⣈","⣉","⣊","⣋","⣍","⣎","⣏","⣐","⣑","⣓","⣔","⣕","⣖","⣗","⣙","⣚","⣛","⣜","⣝","⣞","⣟","⣠","⣢","⣣","⣥","⣦","⣧","⣨","⣩","⣪","⣫","⣬","⣭","⣮","⣯","⣱","⣲","⣳","⣴","⣵","⣶","⣷","⣸","⣹","⣺","⣻","⣼","⣽","⣾"]
s = Screen.new
# s.write s.renderer.circle(x: 20, y: 10, radius: 6, stroke: Style.new(fg: 'red'), stroke_ch: '⣿', fill: Style.new(fg: 'blue'), fill_ch: "⣿")
# s.write s.renderer.circle(x: 40, y: 10, radius: 6, stroke: Style.new(fg: 'red'), stroke_ch: 'X', fill: Style.new(fg: 'blue'), fill_ch: "O")
t = Style.new(bg: 'white')
draw = proc {
  a = []
  s.height.times{|y|
    s.width.times{|x|
    t.fg = random_color
      a.push(s.renderer.text(x: x, y: y, text: b.sample, style: t))
    }
  }
  s.write a.join
}
s.rect( style:  Style.new(bg: 'white'))
s.set_interval {
  t.fg = random_color
  s.text(x: random_int(0, s.width), y: random_int(0, s.height+1), text: b.sample, style: t)
}
s.event.add_key_listener('enter', draw)
# draw
s.start(clean: true)
